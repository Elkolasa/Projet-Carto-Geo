<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Livre en ligne</title>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: sans-serif;
    background-color: #f2f2f2;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

.book-container {
    width: 80vw;
    max-width: 600px;
    aspect-ratio: 210 / 297;
    position: relative;
    overflow: hidden;
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
}

/* Toutes les pages au même endroit */
.page {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;

    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;

    /* par défaut la page est à droite (comme un vrai livre fermé) */
    transform: translateX(100%);
    transition: transform 0.45s ease-in-out;
}

/* Page visible */
.page.active {
    transform: translateX(0);
}

/* Page qui sort vers la gauche (on avance dans le livre) */
.page.go-left {
    transform: translateX(-100%);
}

/* Page qui sort vers la droite (on revient dans le livre) */
.page.go-right {
    transform: translateX(100%);
}
</style>
</head>
<body>

<div class="book-container">
    <div class="page active" style="background-image: url('Images/Couverture.png');"></div>
    <div class="page" style="background-image: url('Images/page2.png');"></div>
    <div class="page" style="background-image: url('Images/page3.png');"></div>
    <div class="page" style="background-image: url('Images/page4.png');"></div>
</div>

<script>
const pages = document.querySelectorAll(".page");
let current = 0;

function showPage(target) {
    if (target === current) return;

    const forward = target > current;   // avance dans le livre ?

    pages[current].classList.remove("active", "go-left", "go-right");
    pages[target].classList.remove("go-left", "go-right");

    // Page qui sort
    pages[current].classList.add(forward ? "go-left" : "go-right");

    // Positionner la future page hors écran au bon côté
    pages[target].style.transform = forward ? "translateX(100%)" : "translateX(-100%)";

    // Reflow pour activer l'anim
    void pages[target].offsetWidth;

    // Page qui entre
    pages[target].classList.add("active");

    current = target;
}

// Scroll
let lock = false;
window.addEventListener("wheel", e => {
    if (lock) return;
    lock = true;

    if (e.deltaY > 0 && current < pages.length - 1) showPage(current + 1);
    else if (e.deltaY < 0 && current > 0) showPage(current - 1);

    setTimeout(() => lock = false, 500);
});

// Fleches
window.addEventListener("keydown", e => {
    if (e.key === "ArrowRight" && current < pages.length - 1) showPage(current + 1);
    if (e.key === "ArrowLeft" && current > 0) showPage(current - 1);
});
</script>

</body>
</html>
