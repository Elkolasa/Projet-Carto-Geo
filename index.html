<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Livre en ligne</title>
<style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
        font-family: sans-serif;
        background-color: #f2f2f2;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
    }

    .book-container {
        width: 80vw;
        max-width: 600px;
        aspect-ratio: 210 / 297;
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    .page {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 100%;
        transition: left 0.5s ease;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 3em;
        color: white;
        font-weight: bold;
    }

    .page.active { left: 0; }
    .page.prev { left: -100%; }
</style>
</head>
<body>

<div class="book-container">
    <div class="page active" style="background-color: #e74c3c;">1</div>
    <div class="page" style="background-color: #3498db;">2</div>
    <div class="page" style="background-color: #2ecc71;">3</div>
    <div class="page" style="background-color: #f1c40f;">4</div>
    <div class="page" style="background-color: #9b59b6;">5</div>
</div>

<script>
const pages = document.querySelectorAll('.page');
let currentIndex = 0;

function showPage(index, direction) {
    pages.forEach((p, i) => {
        p.classList.remove('active', 'prev');
        if (i === index) p.classList.add('active');
        if (direction === 'prev' && i === currentIndex) p.classList.add('prev');
    });
    currentIndex = index;
}

// Scroll / wheel (mobile ou PC)
let isScrolling = false;
window.addEventListener('wheel', e => {
    if (isScrolling) return;
    isScrolling = true;
    if (e.deltaY > 0 && currentIndex < pages.length - 1) showPage(currentIndex + 1, 'next');
    else if (e.deltaY < 0 && currentIndex > 0) showPage(currentIndex - 1, 'prev');
    setTimeout(() => isScrolling = false, 600);
});

// Swipe tactile
let touchStartX = 0;
window.addEventListener('touchstart', e => { touchStartX = e.touches[0].clientX; });
window.addEventListener('touchend', e => {
    let touchEndX = e.changedTouches[0].clientX;
    const diff = touchStartX - touchEndX;
    if (diff > 50 && currentIndex < pages.length - 1) showPage(currentIndex + 1, 'next');
    else if (diff < -50 && currentIndex > 0) showPage(currentIndex - 1, 'prev');
});

// FlÃ¨ches clavier
window.addEventListener('keydown', e => {
    if (e.key === 'ArrowRight' && currentIndex < pages.length - 1) showPage(currentIndex + 1, 'next');
    if (e.key === 'ArrowLeft' && currentIndex > 0) showPage(currentIndex - 1, 'prev');
});

// Initial
showPage(currentIndex);
</script>

</body>
</html>
